<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>The Network Layer | TeaPort</title><meta name="author" content="Cheng,tctco2018@gmail.com"><meta name="copyright" content="Cheng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="This is going to be a completely new part of my study in CS. This part won’t last long because I haven’t finished DataStructure and I’m going to learn assembly language. I learn this simply because my">
<meta property="og:type" content="article">
<meta property="og:title" content="The Network Layer">
<meta property="og:url" content="http://tctco.github.io/2019/06/04/The-Network-Layer/index.html">
<meta property="og:site_name" content="TeaPort">
<meta property="og:description" content="This is going to be a completely new part of my study in CS. This part won’t last long because I haven’t finished DataStructure and I’m going to learn assembly language. I learn this simply because my">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://tctco.github.io/images/ChristmasTrees.png">
<meta property="article:published_time" content="2019-06-03T17:06:20.000Z">
<meta property="article:modified_time" content="2023-02-02T17:08:15.953Z">
<meta property="article:author" content="Cheng">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://tctco.github.io/images/ChristmasTrees.png"><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="http://tctco.github.io/2019/06/04/The-Network-Layer/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'The Network Layer',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-02-03 01:08:15'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3878240_kz3gpk6zi4c.css"><link rel="stylesheet" href="/static/css/bilibili.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">91</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/static/operations/"><i class="fa-fw iconfont icon-shoushudao1"></i><span> 技能考试</span></a></li><li><a class="site-page child" href="/static/radiations/"><i class="fa-fw iconfont icon-radiation"></i><span> 放射防护考试</span></a></li><li><a class="site-page child" href="/static/model/"><i class="fa-fw iconfont icon-jiandanmoxing"></i><span> 小鼠模型</span></a></li><li><a class="site-page child" href="/static/timetable"><i class="fa-fw iconfont icon--timetable"></i><span> 课表</span></a></li><li><a class="site-page child" href="/static/workingcard"><i class="fa-fw iconfont icon-bangdingyuangongka"></i><span> 员工卡</span></a></li><li><a class="site-page child" href="/static/radar"><i class="fa-fw iconfont icon-radarchart"></i><span> 雷达图</span></a></li><li><a class="site-page child" href="/static/audiogram"><i class="fa-fw iconfont icon-hearing"></i><span> 电测听</span></a></li><li><a class="site-page child" href="/static/medreconstruct"><i class="fa-fw iconfont icon-115"></i><span> 图像重建</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/static/cv"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/ChristmasTrees.png')"><nav id="nav"><span id="blog-info"><a href="/" title="TeaPort"><span class="site-name">TeaPort</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/static/operations/"><i class="fa-fw iconfont icon-shoushudao1"></i><span> 技能考试</span></a></li><li><a class="site-page child" href="/static/radiations/"><i class="fa-fw iconfont icon-radiation"></i><span> 放射防护考试</span></a></li><li><a class="site-page child" href="/static/model/"><i class="fa-fw iconfont icon-jiandanmoxing"></i><span> 小鼠模型</span></a></li><li><a class="site-page child" href="/static/timetable"><i class="fa-fw iconfont icon--timetable"></i><span> 课表</span></a></li><li><a class="site-page child" href="/static/workingcard"><i class="fa-fw iconfont icon-bangdingyuangongka"></i><span> 员工卡</span></a></li><li><a class="site-page child" href="/static/radar"><i class="fa-fw iconfont icon-radarchart"></i><span> 雷达图</span></a></li><li><a class="site-page child" href="/static/audiogram"><i class="fa-fw iconfont icon-hearing"></i><span> 电测听</span></a></li><li><a class="site-page child" href="/static/medreconstruct"><i class="fa-fw iconfont icon-115"></i><span> 图像重建</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/static/cv"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">The Network Layer</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-06-03T17:06:20.000Z" title="发表于 2019-06-04 01:06:20">2019-06-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-02-02T17:08:15.953Z" title="更新于 2023-02-03 01:08:15">2023-02-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Network/">Network</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="The Network Layer"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>This is going to be a completely new part of my study in CS. This part won’t last long because I haven’t finished DataStructure and I’m going to learn assembly language.</p>
<p>I learn this simply because my server was banned by the GFW and I need some extra knowledge to prevent this from happening again.</p>
<p>Good Luck!</p>
<blockquote>
<p>Google Crash Course</p>
</blockquote>
<h1>The Network Layer</h1>
<p>Describing the IP addressing scheme and subnetingworks.</p>
<h2 id="The-Network-Layer">The Network Layer</h2>
<p>MAC addresses are useful in a small scale. But they are <strong>not ordered</strong>.<br>
<strong>Address resolution protocol</strong></p>
<h3 id="IP-Address">IP Address</h3>
<p>8 digits <strong>Dotted decimal notation</strong>: 11111111.11111111.11111111.11111111</p>
<p>IP Addresses are distributed in large areas and companies and organizations. IP addresses belong to networks, not to the devices attached to those networks. But the <strong>MAC</strong> address will not change.</p>
<p>Eg: You laptop’s IP will change if you change the network it connects from your home to a cafe. The MAC won’t.</p>
<p><strong>Dynamic Host Configuration Protocol</strong>: For a modern device, once it connects to a router, it will automatically be assigned an IP Address(<strong>Dynamic IP address</strong>).</p>
<p><strong>Static IP address</strong>: It has to be configured mannually. In most cases, static IP addresses are reserved for servers and network devices, while dynamic IP addresses are reserved for clients.</p>
<h3 id="IP-Datagrams-and-Encapsulation">IP Datagrams and Encapsulation</h3>
<p>Packet in this layer is called <strong>IP datagram</strong>.</p>
<p><strong>IP datagram</strong>: A highly structured series of fields that are strictly defined.</p>
<table>
<thead>
<tr>
<th>0~4</th>
<th>4~8</th>
<th>8~16</th>
<th>16~19</th>
<th>19~31</th>
</tr>
</thead>
<tbody>
<tr>
<td>Version</td>
<td>Header Length</td>
<td>Service Type</td>
<td>Total Length</td>
<td>Total Length</td>
</tr>
<tr>
<td>Identification</td>
<td>Identification</td>
<td>Identification</td>
<td>Flags</td>
<td>Fragment Offset</td>
</tr>
<tr>
<td>TTL</td>
<td>TTL</td>
<td>Protocol</td>
<td>Header Checksum</td>
<td>Header Checksum</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>Source IP Address</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>Destination IP Address</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Options</td>
<td>Options</td>
<td>Options</td>
<td>Options</td>
<td>Padding</td>
</tr>
</tbody>
</table>
<p><strong>Remark</strong>: The most common version of IP is version 4, <strong>IPv4</strong>.</p>
<p><strong>Header Length field</strong>: Almost always 20 bytes in length when dealing with IPv4.</p>
<p><strong>Service Type field</strong>: These 8 digits can be used to specify details about quality of service, or <strong>QoS</strong>(to make routers choose which IP datagram is more important), technologies.</p>
<p><strong>Total Length field</strong>:Indicates the total length of the IP datagram it’s attached to. Thus the maximum size of a single datagram: <strong>65535</strong>.</p>
<p><strong>Identification field</strong>: 16-bit number used to group messages together.</p>
<p>If the data is larger than 65535, the IP layer needs to split this data up into many invidual packets.</p>
<p><strong>Flag field</strong>: Used to indicate if a datagram is allowed to be fragmented, or to indicate that the datagram has already been fragmented.</p>
<p><strong>Fragmentation</strong>: Process of taking a single IP datagram and splitting it up into several smaller datagrams.</p>
<p><strong>Time to Live (TTL) field</strong>: indicate how many router hops a datagram can traverse before it’s thrown away. In case of a loop, the routers needn’t to continue transfering the data.</p>
<p><strong>Protocol field</strong>: Contains data about what transport layer protocol is being used (TCP/UDP).</p>
<p><strong>Header checksum field</strong>: A checksum of the contents of the entire IP datagram header (as TTL changes, the checksum changes too!).</p>
<p><strong>Source IP Address and Destination IP Address</strong>:32 bits</p>
<p><strong>IP options field</strong>: Optional. Used to set special characteristics for datagrams primarily used for testing purposes.</p>
<p><strong>Padding</strong>: A series of 0 to ensure the header is the correct total size. (Since the size of IP optional fields is unknown).</p>
<h4 id="Data-payload-section">Data payload section</h4>
<p>This is what IP datagram is. And this process is called <strong>Encapsulation</strong>.</p>
<h2 id="Encapsulation">Encapsulation</h2>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>Message &gt; Application</p>
</blockquote>
<p>(TCP/UDP header)Message &gt; Transport</p>
</blockquote>
<p>(IP header)TCP segment or UDP datagram &gt; Network</p>
</blockquote>
<p>(Ethernet header)IP datagram(ethernet footer) &gt; Data-link</p>
</blockquote>
<h3 id="IP-Address-Classes">IP Address Classes</h3>
<p>2 sections: <strong>network ID</strong> and <strong>host ID</strong>.</p>
<p>Eg: 9.100.100.100<br>
9 will be network ID, and 100.100.100 will be the host ID.</p>
<p><strong>Address class system</strong>: A way of defining how the global IP address space is split up.<br>
<em>Network ID and Host ID</em><br>
<strong>Class A</strong>:1+3(0~126, 0)<br>
<strong>Class B</strong>:2+2(128~191, 10)<br>
<strong>Class C</strong>:3+1(192~224, 110)<br>
There are also Class D and E(used for testing purposes).</p>
<p>Inpractice, these classes have been replaced by <strong>CIDR</strong>: Classless inter-domain routing.</p>
<h3 id="Addresses-Resolution-Protocol-ARP">Addresses Resolution Protocol (ARP)</h3>
<p>A protocol used to discover the hardware address of a node with a certain IP address.</p>
<p><strong>ARP table</strong>: a list of IP addresses and the MAC addresses associated with them.</p>
<p>A Eg should be like this:</p>
<ol>
<li>Host A wants to send a message to 10.20.30.40 but this is not in its ARP table.</li>
<li>Host A broadcast FF: FF: FF: FF: FF: FF</li>
<li>ARP broadcast is received and ARP response is sent back. This will contain the MAC address in question.</li>
</ol>
<p>ARP table entries generally expire after a short amount of time to ensure changes in the network are accounted for.</p>
<h2 id="Subnetting">Subnetting</h2>
<h3 id="Subnet-masks">Subnet masks</h3>
<p>We have already know that IP addresses can be splitted into 2 sections. The Host ID and the Network ID.</p>
<p>If we go deeper into the IP addresses, we will need: <strong>Subnet ID</strong>.</p>
<p>In the Internet level, the core routers only care about the network ID and use it to send datagram to the <strong>gateway routers</strong>. Then the gateway routers (with some additional information) can send the datagram to the destination machine or the next router.</p>
<p>The Host ID is used for the last router to send the datagram to the recipient machine.</p>
<p>Subnet IDs are calculated by using <strong>Subnet masks</strong>: 32-bit numbers that are normally written out as 4 octets in decimal.</p>
<hr>
<p><em>How does it work?</em><br>
IP address: 9.100.100.1009.100.100.100<br>
Then in binary: 00001001.01100100.01100100.0110010000001001.01100100.01100100.01100100<br>
Subnet mask: 11111111.11111111.11111111.0000000011111111.11111111.11111111.00000000</p>
<p>The “1” parts is to tell a router what part is the subnet ID.</p>
<p>In this case, only the last octect is available for the Host ID. Since 0 is not used and 255 is reserved for broadcast, only 1~254 are available to assign to the host.</p>
<p>This is the famous Subnet mask: 255.255.255.0255.255.255.0</p>
<p>Another example:<br>
Subnet mask: 255.255.255.224255.255.255.224<br>
also written by: 11111111.11111111.11111111.1110000011111111.11111111.11111111.11100000<br>
In this case, the host ID space will be 5 bits.</p>
<p>Since this Subnet ID is consists of 27 “1”s and 5 “0”s, a quicker way to represent this should be: 9.100.100.100/279.100.100.100/27</p>
<p>Subnet mask is a way for a computer to use <strong>AND operators</strong> to determine if an IP address exists on the same network.</p>
<p>The computer that runs this operation can compare the result with its own network ID to determine if the address is on the same network.</p>
<h3 id="CIDR">CIDR</h3>
<p>A even more flexible way to describe blocks of IP addresses. It expands on the concept that subneting by using subnet masks to <strong>Demarcate</strong> networks.</p>
<p><strong>Demarcate</strong>: to demarcate sth means to set sth off.</p>
<p><strong>Demarcation point</strong>: To describe where one network or system ends and another one begins.</p>
<p><strong>CIDR notation</strong>: 9.100.100.100/249.100.100.100/24</p>
<p>If a company wants 2 Class C, it can simply use Subnet mask of 255.255.254.0/23255.255.254.0/23. This also saves 2 IP addressed since 256∗2−2=510256∗2−2=510.</p>
<h2 id="Routers">Routers</h2>
<h3 id="Basic-Concepts">Basic Concepts</h3>
<p><strong>Router</strong>: A network device that forwards traffic depending on the destination address of that traffic.</p>
<ol>
<li>Receive data packet</li>
<li>Examines destination IP</li>
<li>Looks up IP destination network in routing table</li>
<li>Forward traffic to destination</li>
</ol>
<h3 id="Routing-table">Routing table</h3>
<p>4 Coulumns:</p>
<ul>
<li>Destination network(IP and Subnet address / CIDR)</li>
<li>Next hop</li>
<li>Total hops</li>
<li>Interface</li>
</ul>
<h3 id="Interior-Gateway-Protocol">Interior Gateway Protocol</h3>
<p>Problem: Quickest path?<br>
<strong>Routing protocols</strong>: Routers communicates to each other. It can be divided into 2 categories: <strong>interior gateway protocols</strong> and <strong>exterior gateway protocols</strong>.</p>
<p><strong>Interior gateway protocols</strong>: Used by routers to share info within a single <strong>autonomous system</strong>, which is a collection of networks all fall under the control of a single network operator. Eg: Many routers employed by a internet service provider who is usually in reaches or usually national scale.</p>
<p><strong>Interior gateway protocols</strong> are further split into 2 categories: <strong>Link state routing protocols</strong> and <strong>distance-vector protocols</strong>.</p>
<p><strong>Distance-vector protocols</strong> are older of standard, list of networks are how far away in terms of hubs. Then the router will send this list to every routers it connects. In CS, a list is called a <strong>vector</strong>.</p>
<blockquote>
<p>Distance-vector protocols care about the neighbors while Link state routing protocols are more complex(more data and a strong algorithm).</p>
</blockquote>
<h3 id="Exterior-gateway-protocols">Exterior gateway protocols</h3>
<p>Exchange info between different organizations.</p>
<p><strong>Internet Assigned Numbers Authority (IANA)</strong>: NGO that helps manage things like IP address allocation and <strong>ASN, Autonomous System Number</strong> allocation.</p>
<p><strong>ASN</strong>: Numbers assigned to indicidual autonomous systems.</p>
<h3 id="Non-Routable-Address-Space">Non-Routable Address Space</h3>
<p>The establishment of RFC, Request for Comments.</p>
<p>Not all computers on the internet need to connect to other computers on the internet! Non-Routabnle Address Space allows for nodes on such a network to communicate with each other but no gateway router will attend to forward traffic to this type of network.</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>10.0.0.0</mn><mi mathvariant="normal">/</mi><mn>810.0.0.0</mn><mi mathvariant="normal">/</mi><mn>8</mn><mspace linebreak="newline"></mspace><mn>172.16.0.0</mn><mi mathvariant="normal">/</mi><mn>12172.16.0.0</mn><mi mathvariant="normal">/</mi><mn>12</mn><mspace linebreak="newline"></mspace><mn>192.168.0.0</mn><mi mathvariant="normal">/</mi><mn>16192.168.0.0</mn><mi mathvariant="normal">/</mi><mn>16</mn><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">10.0.0.0/810.0.0.0/8\\

172.16.0.0/12172.16.0.0/12\\

192.168.0.0/16192.168.0.0/16\\
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">10.0.0.0/810.0.0.0/8</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">172.16.0.0/12172.16.0.0/12</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">192.168.0.0/16192.168.0.0/16</span></span><span class="mspace newline"></span></span></span></span></p>
<p>This Non-routable address space is also related to <strong>NAT, Network Address Translation</strong>.</p>
</article><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/images/ChristmasTrees.png" data-sites="wechat,weibo,qq,facebook,twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/06/05/Transport-and-Application-Layers/" title="Transport and Application Layers"><img class="cover" src="/images/piano.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Transport and Application Layers</div></div></a></div><div class="next-post pull-right"><a href="/2019/05/03/DataStructure-Isomorphism-of-Trees/" title="DataStructure Isomorphism of Trees"><img class="cover" src="/images/CMYK.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">DataStructure Isomorphism of Trees</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Cheng</div><div class="author-info__description">Tech nerd, Amateur programmar, Medical Student</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">91</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/tctco"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=859267560&amp;website=www.oicqzone.com" target="_blank" title=""><i class="fab fa-qq"></i></a><a class="social-icon" href="https://github.com/tctco" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:tctco2018@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">The Network Layer</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#The-Network-Layer"><span class="toc-number">1.1.</span> <span class="toc-text">The Network Layer</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IP-Address"><span class="toc-number">1.1.1.</span> <span class="toc-text">IP Address</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IP-Datagrams-and-Encapsulation"><span class="toc-number">1.1.2.</span> <span class="toc-text">IP Datagrams and Encapsulation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-payload-section"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">Data payload section</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Encapsulation"><span class="toc-number">1.2.</span> <span class="toc-text">Encapsulation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IP-Address-Classes"><span class="toc-number">1.2.1.</span> <span class="toc-text">IP Address Classes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Addresses-Resolution-Protocol-ARP"><span class="toc-number">1.2.2.</span> <span class="toc-text">Addresses Resolution Protocol (ARP)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Subnetting"><span class="toc-number">1.3.</span> <span class="toc-text">Subnetting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Subnet-masks"><span class="toc-number">1.3.1.</span> <span class="toc-text">Subnet masks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CIDR"><span class="toc-number">1.3.2.</span> <span class="toc-text">CIDR</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Routers"><span class="toc-number">1.4.</span> <span class="toc-text">Routers</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Basic-Concepts"><span class="toc-number">1.4.1.</span> <span class="toc-text">Basic Concepts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Routing-table"><span class="toc-number">1.4.2.</span> <span class="toc-text">Routing table</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interior-Gateway-Protocol"><span class="toc-number">1.4.3.</span> <span class="toc-text">Interior Gateway Protocol</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Exterior-gateway-protocols"><span class="toc-number">1.4.4.</span> <span class="toc-text">Exterior gateway protocols</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Non-Routable-Address-Space"><span class="toc-number">1.4.5.</span> <span class="toc-text">Non-Routable Address Space</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/11/22/%E7%90%86%E6%80%A7%E7%9A%84%E8%BE%B9%E7%95%8C/" title="理性的边界"><img src="/images/memory.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="理性的边界"/></a><div class="content"><a class="title" href="/2024/11/22/%E7%90%86%E6%80%A7%E7%9A%84%E8%BE%B9%E7%95%8C/" title="理性的边界">理性的边界</a><time datetime="2024-11-22T10:41:05.000Z" title="发表于 2024-11-22 18:41:05">2024-11-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/05/%E8%A7%A3%E5%86%B3docker%E9%95%9C%E5%83%8F%E6%8B%89%E5%8F%96%E9%97%AE%E9%A2%98/" title="解决docker镜像拉取问题"><img src="/images/memory.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="解决docker镜像拉取问题"/></a><div class="content"><a class="title" href="/2024/11/05/%E8%A7%A3%E5%86%B3docker%E9%95%9C%E5%83%8F%E6%8B%89%E5%8F%96%E9%97%AE%E9%A2%98/" title="解决docker镜像拉取问题">解决docker镜像拉取问题</a><time datetime="2024-11-05T09:27:34.000Z" title="发表于 2024-11-05 17:27:34">2024-11-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/30/%E5%9C%A8WSL2%E4%B8%AD%E5%AE%89%E8%A3%85SPM12-Standalone/" title="在WSL2中安装SPM12 Standalone"><img src="/images/dopamine.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在WSL2中安装SPM12 Standalone"/></a><div class="content"><a class="title" href="/2024/10/30/%E5%9C%A8WSL2%E4%B8%AD%E5%AE%89%E8%A3%85SPM12-Standalone/" title="在WSL2中安装SPM12 Standalone">在WSL2中安装SPM12 Standalone</a><time datetime="2024-10-29T17:24:28.000Z" title="发表于 2024-10-30 01:24:28">2024-10-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/08/%E7%BB%9D%E5%A6%99%E5%8F%A3%E8%AF%80%E4%B8%80%E8%A7%88/" title="绝妙口诀一览"><img src="/images/tardis.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="绝妙口诀一览"/></a><div class="content"><a class="title" href="/2024/10/08/%E7%BB%9D%E5%A6%99%E5%8F%A3%E8%AF%80%E4%B8%80%E8%A7%88/" title="绝妙口诀一览">绝妙口诀一览</a><time datetime="2024-10-08T02:43:40.000Z" title="发表于 2024-10-08 10:43:40">2024-10-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/23/ADNI%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="ADNI学习笔记"><img src="/images/ink.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ADNI学习笔记"/></a><div class="content"><a class="title" href="/2024/07/23/ADNI%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="ADNI学习笔记">ADNI学习笔记</a><time datetime="2024-07-22T16:49:35.000Z" title="发表于 2024-07-23 00:49:35">2024-07-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By Cheng</div><div class="footer_custom_text">很高兴遇见你。</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>